#include QMK_KEYBOARD_H
#include "buz.h"

#ifdef LAYOUT_wrapper
#undef LAYOUT_wrapper
#define LAYOUT_wrapper(...) LAYOUT_planck_grid(__VA_ARGS__)
#endif

const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {
[_QWERTY] = LAYOUT_wrapper( \
  KC_TABMS,_________________QWERTY_L1_________________, _________________QWERTY_R1_________________, KC_BSPC, \
  KC_CESC, _________________QWERTY_L2_________________, _________________QWERTY_R2_________________, KC_QUOT, \
  KC_LSPO, _________________QWERTY_L3_________________, _________________QWERTY_R3_________________, KC_RSPC, \
  VIM,     MOUSE, NUM,     KC_LALT,   LOWER,   KC_GENT, KC_SPC,  RAISE, KC_O_RALT, KC_APP,  KC_RBRC, KC_RCTL  \
),

[_LOWER] = LAYOUT_wrapper( \
  KC_TILD, _________________LOWER_L1__________________, _________________LOWER_R1__________________, KC_DEL,  \
  _______, _________________LOWER_L2__________________, _________________LOWER_R2__________________, KC_PIPE, \
  _______, _________________LOWER_L3__________________, _________________LOWER_R3__________________, _______, \
  KC_CAPS, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______  \
),

[_RAISE] = LAYOUT_wrapper( \
  KC_GRV,  _________________RAISE_L1__________________, _________________RAISE_R1__________________, _______, \
  _______, _________________RAISE_L2__________________, _________________RAISE_R2__________________, KC_BSLS, \
  _______, _________________RAISE_L2__________________, _________________RAISE_R3__________________, _______, \
  _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______  \
),

[_ADJUST] =  LAYOUT_wrapper( \
  _______, _________________ADJUST_L1_________________, _________________ADJUST_R1_________________, RESET,   \
  _______, _________________ADJUST_L2_________________, _________________ADJUST_R2_________________, _______, \
  _______, _________________ADJUST_L3_________________, _________________ADJUST_R3_________________, _______, \
  _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______ \
),

[_VIM] =  LAYOUT_wrapper( \
  _______, __________________VIM_L1___________________, __________________VIM_R1___________________, _______, \
  _______, __________________VIM_L2___________________, __________________VIM_R2___________________, _______, \
  _______, __________________VIM_L3___________________, __________________VIM_R3___________________, _______, \
  _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______  \
),

[_MOUSE] =  LAYOUT_wrapper( \
  _______, _________________MOUSE_L1__________________, _________________MOUSE_R1__________________, _______,\
  _______, _________________MOUSE_L2__________________, _________________MOUSE_R2__________________, _______, \
  _______, _________________MOUSE_L3__________________, _________________MOUSE_R3__________________, _______, \
  _______, _______, _______, _______, _______, _______, KC_BTN1, KC_BTN3, KC_BTN2, _______, _______, _______ \
),

[_NUM] =  LAYOUT_wrapper( \
  _______, ___________________BLANK___________________, _________________NUMPAD_R1_________________, _______,\
  _______, ___________________BLANK___________________, _________________NUMPAD_R2_________________, _______, \
  _______, ___________________BLANK___________________, _________________NUMPAD_R3_________________, _______, \
  _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______ \
),
};

bool music_mask_user(uint16_t keycode) {
  switch (keycode) {
    case RAISE:
    case LOWER:
      return false;
    default:
      return true;
  }
}
